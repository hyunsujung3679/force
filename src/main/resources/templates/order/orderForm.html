<!DOCTYPE html>
<html th:replace="fragment/orderBody :: orderLayout(~{::link}, ~{::script}, ~{::section})"
xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" type="text/css" th:href="@{/css/order/order.css}">
    <script th:inline="javascript" th:src="@{/js/order/order.js}"></script>
</head>
<body>

    <section>
        <form class="form" action="/order/complete" method="post">
            <input type="hidden" class="table-no" name="tableNo" th:value="${tableNo}">

            <div class="main">
                <div class="left-main">
                    <div class="top-left-main">
                        <div class="table-top">
                            <div class="table-content-1">
                                <div class="table-content-name" th:text="#{label.no}"></div>
                            </div>
                            <div class="table-content-2">
                                <div class="table-content-name" th:text="#{label.menu.name}"></div>
                            </div>
                            <div class="table-content-3">
                                <div class="table-content-name" th:text="#{label.sale.price}"></div>
                            </div>
                            <div class="table-content-3">
                                <div class="table-content-name" th:text="#{label.quantity}"></div>
                            </div>
                            <div class="table-content-3">
                                <div class="table-content-name" th:text="#{label.discount}"></div>
                            </div>
                            <div class="table-content-3">
                                <div class="table-content-name" th:text="#{label.price}"></div>
                            </div>
                            <div class="table-content-3">
                                <div class="table-content-name" th:text="#{label.etc}"></div>
                            </div>
                        </div>
                        <div class="table-middle">
                            <div class="table-middle-wrap" th:each="order, orderStat : ${orderList}">
                                <input type="hidden" name="order-no" th:value="${order.orderNo}">
                                <input type="hidden" name="menu-no" th:value="${order.menuNo}">
                                <div class="table-content-1">
                                    <div th:text="${order.no}"></div>
                                </div>
                                <div class="table-content-2">
                                    <div th:text="${order.menuName}"></div>
                                </div>
                                <div class="table-content-3">
                                    <div th:text="${#numbers.formatInteger(order.salePrice, 0, 'COMMA')}"></div>
                                </div>
                                <div class="table-content-3">
                                    <div th:text="${order.quantity}"></div>
                                </div>
                                <div class="table-content-3">
                                    <div th:text="${#numbers.formatInteger(order.discountPrice, 0, 'COMMA')}"></div>
                                </div>
                                <div class="table-content-3">
                                    <div th:text="${#numbers.formatInteger(order.totalSalePrice, 0, 'COMMA')}"></div>
                                </div>
                                <div class="table-content-6">
                                    <div th:text="${order.etc}"></div>
                                </div>
                            </div>
                        </div>
                        <div class="table-bottom">
                            <div class="table-content-4">
                                <div class="table-content-name" th:text="#{label.sum}"></div>
                            </div>
                            <div class="table-content-3">
                                <div id="total-quantity" class="table-content-name" th:text="${#numbers.formatInteger(orderTotal.totalQuantity, 0, 'COMMA')}"></div>
                            </div>
                            <div class="table-content-3">
                                <div id="total-discount-price" class="table-content-name" th:text="${#numbers.formatInteger(orderTotal.totalDiscountPrice, 0, 'COMMA')}"></div>
                            </div>
                            <div class="table-content-5">
                                <div id="total-sale-price" class="table-content-name" th:text="${#numbers.formatInteger(orderTotal.totalSalePrice, 0, 'COMMA')}"></div>
                            </div>
                        </div>
                    </div>
                    <div class="bottom-left-main">
                        <div class="top-line">
                            <div class="button-wrap">
                                <button type="button" class="top-line-button" onclick="cancelWhole();" th:text="#{button.cancel.whole}"></button>
                            </div>
                            <div class="button-wrap">
                                <button type="button" class="top-line-button" onclick="cancelSelection();" th:text="#{button.cancel.selection}"></button>
                            </div>
                            <div class="button-wrap">
                                <button type="button" class="top-line-button" onclick="quantityChange();" th:text="#{button.quantity.change}"></button>
                            </div>
                            <div class="button-wrap">
                                <button type="button" class="top-line-button" onclick="salePriceChange();" th:text="#{button.sale.price.change}"></button>
                            </div>
                            <div class="button-wrap">
                                <button type="button" class="top-line-button-2" onclick="service();" th:text="#{button.service}"></button>
                            </div>
                            <div class="input-wrap">
                                <input type="text" name="inputValue" class="top-line-input" value="0">
                            </div>
                        </div>
                        <div class="bottom-line">
                            <div class="price">
                                <div class="span-wrap">
                                    <span class="price-title" th:text="#{label.total.price}"></span>
                                    <span id="total-price" class="price-value" th:text="${#numbers.formatInteger(orderTotal.totalDiscountPrice + orderTotal.totalSalePrice, 0, 'COMMA')}"></span>
                                </div>
                                <div class="line"></div>
                                <div class="span-wrap">
                                    <span class="price-title" th:text="#{label.discount.price}"></span>
                                    <span id="discount-price" class="price-value" th:text="${#numbers.formatInteger(orderTotal.totalDiscountPrice, 0, 'COMMA')}"></span>
                                </div>
                                <div class="line"></div>
                                <div class="span-wrap">
                                    <span class="price-title" th:text="#{label.receive.price}"></span>
                                    <span id="receive-price" class="price-value" th:text="${#numbers.formatInteger(orderTotal.totalSalePrice, 0, 'COMMA')}"></span>
                                </div>
                            </div>
                            <div class="discount">
                                <div class="discount-title" th:text="#{label.discount.processing}"></div>
                                <div class="line-2"></div>
                                <div class="discount-button-wrap">
                                    <button type="button" class="discount-button" onclick="fullPer();" th:text="|#{label.percent} #{label.total.discount}|"></button>
                                    <button type="button" class="discount-button" onclick="selPer();" th:text="|#{label.percent} #{label.selection.discount}|"></button>
                                </div>
                                <div class="discount-button-wrap">
                                    <button type="button" class="discount-button" onclick="fullPrice();" th:text="|#{label.dollar} #{label.total.discount}|"></button>
                                    <button type="button" class="discount-button" onclick="selPrice();" th:text="|#{label.dollar} #{label.selection.discount}|"></button>
                                </div>
                                <div class="discount-button-wrap">
                                    <button type="button" class="discount-button" onclick="fullCancel();" th:text="#{label.total.discount.cancle}"></button>
                                    <button type="button" class="discount-button" onclick="selCancel();" th:text="#{label.selection.discount.cancle}"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="right-main">
                    <div class="category">
                        <div class="category-content" th:if="${categoryStat.index} < 6" th:each="category, categoryStat : ${categoryList}" onclick="selectMenuListByCategoryNo(this);">
                            <input type="hidden" th:value="${category.categoryNo}">
                            <button type="button" class="category-content-button" th:text="${category.categoryName}"></button>
                        </div>
                    </div>
                    <div class="category">
                        <div class="category-content" th:if="${categoryStat.index} >= 6" th:each="category, categoryStat : ${categoryList}" onclick="selectMenuListByCategoryNo(this);">
                            <input type="hidden" th:value="${category.categoryNo}">
                            <button type="button" class="category-content-button" th:text="${category.categoryName}"></button>
                        </div>
                    </div>
                    <div class="line-3"></div>
                    <div id="menu-1" class="menu">
                        <div class="menu-content" th:if="${menuStat.index} < 6" th:each="menu, menuStat : ${menuList}">
                            <input type="hidden" name="menu-no-1" th:value="${menu.menuNo}">
                            <button type="button" class="menu-content-button" th:if="${menu.isEnoughStock() == true}" th:text="|${menu.menuName} ${#numbers.formatInteger(menu.salePrice, 0, 'COMMA')}|"></button>
                            <button type="button" class="menu-content-button" th:if="${menu.isEnoughStock() == false}" th:text="|${menu.menuName} ${#numbers.formatInteger(menu.salePrice, 0, 'COMMA')}|" disabled></button>
                        </div>
                    </div>
                    <div id="menu-2" class="menu">
                        <div class="menu-content" th:if="${menuStat.index} >= 6 and ${menuStat.index} < 12" th:each="menu, menuStat : ${menuList}">
                            <input type="hidden" name="menu-no-1" th:value="${menu.menuNo}">
                            <button type="button" class="menu-content-button" th:if="${menu.isEnoughStock() == true}" th:text="|${menu.menuName} ${#numbers.formatInteger(menu.salePrice, 0, 'COMMA')}|"></button>
                            <button type="button" class="menu-content-button" th:if="${menu.isEnoughStock() == false}" th:text="|${menu.menuName} ${#numbers.formatInteger(menu.salePrice, 0, 'COMMA')}|" disabled></button>
                        </div>
                    </div>
                    <div id="menu-3" class="menu">
                        <div class="menu-content" th:if="${menuStat.index} >= 12 and ${menuStat.index} < 18" th:each="menu, menuStat : ${menuList}">
                            <input type="hidden" name="menu-no-1" th:value="${menu.menuNo}">
                            <button type="button" class="menu-content-button" th:if="${menu.isEnoughStock() == true}" th:text="|${menu.menuName} ${#numbers.formatInteger(menu.salePrice, 0, 'COMMA')}|"></button>
                            <button type="button" class="menu-content-button" th:if="${menu.isEnoughStock() == false}" th:text="|${menu.menuName} ${#numbers.formatInteger(menu.salePrice, 0, 'COMMA')}|" disabled></button>
                        </div>
                    </div>
                    <div class="line-3"></div>
                    <div class="right-button">
                        <div class="right-button-detail" onclick="saveOrder();">
                            <button type="button" class="button-content-write-1" th:text="#{button.order}"></button>
                        </div>
                        <div class="right-button-detail">
                            <button type="submit" class="button-content-write-1" th:text="#{button.payment}"></button>
                        </div>
                        <div class="right-button-detail" th:onclick="|location.href='@{/table}'|">
                            <button type="button" class="button-content-write-1" th:text="#{button.back}"></button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </section>
</body>
</html>